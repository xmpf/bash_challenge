#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <errno.h>
#include <string.h>
#include <sys/wait.h>

/* can be specified on comipilation using -DMAX_TRIES=N */
#ifndef MAX_TRIES
#define MAX_TRIES 3
#endif

/* can be specified on comipilation using -DCLOSE_STDOUT=1 */
#ifndef CLOSE_STDOUT
#define CLOSE_STDOUT 0
#endif

/* COLORS */
#define BLU "\x1B[34m"
#define RED "\x1B[31m"
#define RST "\x1B[0m"


/* WELCOME_MSG */
const char WELCOME_MSG[] = "WELCOME STRANGER! ONLY REAL " RED "NINJA " RST "ARE ALLOWED TO ENTER...";

/* ASCII art */
void welcome(void)
{
    unsigned char moria_txt[] = {
        0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x40, 0x24, 0x2a, 0x20, 0x40, 0x24, 0x33, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x24, 0x4e, 0x75, 0x65, 0x65, 0x65, 0x64, 0x24, 0x24, 0x65, 0x64, 0x24, 0x24, 0x65, 0x65, 0x65, 0x63, 0x24, 0x24, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x24, 0x4c, 0x7a, 0x65, 0x40, 0x2a, 0x24, 0x43, 0x32, 0x24, 0x62, 0x2a, 0x20, 0x65, 0x64, 0x28, 0x68, 0x65, 0x2a, 0x72, 0x62, 0x24, 0x43, 0x43, 0x24, 0x2a, 0x24, 0x62, 0x63, 0x40, 0x24, 0x72, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x2f, 0x40, 0x20, 0x7c, 0x7e, 0x7e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x65, 0x24, 0x24, 0x22, 0x57, 0x24, 0x24, 0x42, 0x24, 0x42, 0x24, 0x2a, 0x2a, 0x20, 0x20, 0x5e, 0x24, 0x20, 0x20, 0x65, 0x22, 0x22, 0x23, 0x23, 0x64, 0x3f, 0x24, 0x42, 0x64, 0x24, 0x24, 0x24, 0x4e, 0x63, 0x2e, 0x20, 0x2e, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x40, 0x5c, 0x2f, 0x7e, 0x5c, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x5c, 0x3d, 0x3d, 0x7c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x24, 0x6b, 0x64, 0x2a, 0x43, 0x72, 0x24, 0x36, 0x46, 0x23, 0x22, 0x60, 0x20, 0x20, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x2e, 0x2a, 0x3d, 0x3d, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x27, 0x22, 0x2a, 0x2a, 0x46, 0x23, 0x24, 0x49, 0x24, 0x62, 0x24, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7c, 0x20, 0x20, 0x20, 0x49, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x64, 0x24, 0x35, 0x4e, 0x40, 0x24, 0x24, 0x22, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x2e, 0x2e, 0x65, 0x75, 0x24, 0x24, 0x24, 0x24, 0x24, 0x24, 0x4e, 0x24, 0x2a, 0x24, 0x7a, 0x62, 0x65, 0x75, 0x75, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x24, 0x64, 0x24, 0x24, 0x24, 0x24, 0x62, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2f, 0x20, 0x40, 0x2f, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x40, 0x2f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x20, 0x7a, 0x24, 0x54, 0x65, 0x64, 0x2a, 0x22, 0x24, 0x50, 0x20, 0x7a, 0x75, 0x65, 0x24, 0x2a, 0x39, 0x64, 0x24, 0x24, 0x24, 0x40, 0x23, 0x23, 0x20, 0x20, 0x2e, 0x20, 0x20, 0x23, 0x57, 0x24, 0x65, 0x40, 0x42, 0x24, 0x24, 0x4c, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x22, 0x23, 0x40, 0x24, 0x45, 0x24, 0x62, 0x40, 0x4e, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x64, 0x24, 0x49, 0x64, 0x2a, 0x50, 0x23, 0x20, 0x20, 0x27, 0x4e, 0x64, 0x24, 0x24, 0x42, 0x24, 0x2a, 0x2a, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2a, 0x2c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x23, 0x2a, 0x4e, 0x24, 0x24, 0x62, 0x24, 0x63, 0x20, 0x20, 0x20, 0x24, 0x24, 0x24, 0x2a, 0x24, 0x24, 0x63, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x64, 0x23, 0x2b, 0x43, 0x36, 0x4a, 0x20, 0x20, 0x20, 0x40, 0x40, 0x24, 0x42, 0x24, 0x2a, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2d, 0x2a, 0x2a, 0x2a, 0x2d, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x23, 0x24, 0x24, 0x24, 0x24, 0x63, 0x20, 0x20, 0x20, 0x2a, 0x24, 0x24, 0x24, 0x23, 0x24, 0x75, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x75, 0x24, 0x6c, 0x34, 0x40, 0x22, 0x5e, 0x22, 0x7a, 0x4a, 0x24, 0x37, 0x57, 0x2a, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x2a, 0x60, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5e, 0x2a, 0x24, 0x40, 0x24, 0x24, 0x24, 0x72, 0x20, 0x22, 0x24, 0x24, 0x45, 0x24, 0x40, 0x42, 0x3e, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x40, 0x24, 0x6c, 0x24, 0x50, 0x22, 0x2b, 0x52, 0x64, 0x24, 0x24, 0x4e, 0x23, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2f, 0x7c, 0x5c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x22, 0x24, 0x24, 0x24, 0x63, 0x2e, 0x2e, 0x20, 0x3f, 0x45, 0x24, 0x2a, 0x62, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7a, 0x24, 0x20, 0x22, 0x2a, 0x2e, 0x20, 0x20, 0x2e, 0x4a, 0x7a, 0x24, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x2f, 0x20, 0x7c, 0x20, 0x5c, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x2a, 0x40, 0x4e, 0x24, 0x62, 0x20, 0x20, 0x20, 0x64, 0x2a, 0x2a, 0x4e, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x7a, 0x24, 0x4a, 0x42, 0x52, 0x5e, 0x62, 0x73, 0x40, 0x24, 0x24, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x2f, 0x20, 0x20, 0x7c, 0x20, 0x20, 0x5c, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x24, 0x6c, 0x2a, 0x39, 0x4e, 0x20, 0x22, 0x62, 0x4e, 0x24, 0x4e, 0x65, 0x65, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x24, 0x24, 0x2e, 0x43, 0x2a, 0x20, 0x20, 0x20, 0x64, 0x42, 0x40, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x5f, 0x2f, 0x20, 0x20, 0x2f, 0x5e, 0x5c, 0x20, 0x20, 0x5c, 0x5f, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x24, 0x24, 0x24, 0x7a, 0x3e, 0x20, 0x33, 0x24, 0x62, 0x24, 0x24, 0x23, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x22, 0x24, 0x65, 0x24, 0x20, 0x20, 0x40, 0x2a, 0x24, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5c, 0x5c, 0x5e, 0x7c, 0x20, 0x20, 0x20, 0x7c, 0x5e, 0x2f, 0x2f, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x24, 0x24, 0x75, 0x2e, 0x5e, 0x2a, 0x24, 0x4e, 0x24, 0x63, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x4a, 0x50, 0x64, 0x24, 0x25, 0x20, 0x20, 0x40, 0x40, 0x64, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x24, 0x4e, 0x69, 0x24, 0x20, 0x20, 0x24, 0x45, 0x50, 0x24, 0x0a, 0x20, 0x20, 0x20, 0x3a, 0x65, 0x24, 0x22, 0x2a, 0x24, 0x20, 0x20, 0x3a, 0x65, 0x74, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5e, 0x24, 0x24, 0x45, 0x20, 0x20, 0x34, 0x24, 0x4e, 0x24, 0x62, 0x65, 0x0a, 0x20, 0x20, 0x20, 0x27, 0x29, 0x24, 0x75, 0x64, 0x22, 0x20, 0x20, 0x40, 0x36, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x39, 0x24, 0x24, 0x20, 0x20, 0x20, 0x24, 0x2a, 0x40, 0x24, 0x22, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x40, 0x46, 0x2a, 0x24, 0x20, 0x20, 0x20, 0x2a, 0x34, 0x50, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x59, 0x4f, 0x55, 0x52, 0x20, 0x49, 0x4e, 0x50, 0x55, 0x54, 0x20, 0x49, 0x53, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x24, 0x6d, 0x23, 0x20, 0x20, 0x20, 0x2e, 0x24, 0x24, 0x2e, 0x0a, 0x20, 0x75, 0x2a, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x68, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x54, 0x52, 0x41, 0x4e, 0x53, 0x46, 0x4f, 0x52, 0x4d, 0x45, 0x44, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x65, 0x23, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x23, 0x0a, 0x20, 0x45, 0x20, 0x2b, 0x65, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x75, 0x65, 0x2e, 0x20, 0x4e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x46, 0x20, 0x65, 0x3d, 0x63, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7a, 0x2a, 0x63, 0x0a, 0x20, 0x45, 0x20, 0x2b, 0x65, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x75, 0x65, 0x2e, 0x20, 0x4e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x74, 0x72, 0x20, 0x5b, 0x61, 0x2d, 0x7a, 0x5d, 0x20, 0x5b, 0x41, 0x2d, 0x5a, 0x5d, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x46, 0x20, 0x65, 0x3d, 0x63, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7a, 0x2a, 0x63, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x2e, 0x0a, 0x20, 0x23, 0x65, 0x24, 0x40, 0x65, 0x2e, 0x2e, 0x20, 0x2e, 0x2e, 0x7a, 0x36, 0x2b, 0x36, 0x64, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5e, 0x2a, 0x63, 0x42, 0x65, 0x24, 0x75, 0x2e, 0x20, 0x20, 0x2e, 0x24, 0x24, 0x40, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x5e, 0x22, 0x22, 0x22, 0x22, 0x20, 0x34, 0x46, 0x22, 0x20, 0x20, 0x7a, 0x65, 0x3d, 0x65, 0x75, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7a, 0x2a, 0x2a, 0x2a, 0x68, 0x63, 0x20, 0x5e, 0x22, 0x24, 0x20, 0x22, 0x22, 0x2a, 0x22, 0x22, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x77, 0x68, 0x69, 0x6c, 0x65, 0x20, 0x28, 0x63, 0x6f, 0x75, 0x6e, 0x74, 0x65, 0x72, 0x2b, 0x2b, 0x20, 0x3c, 0x20, 0x4d, 0x41, 0x58, 0x5f, 0x54, 0x52, 0x49, 0x45, 0x53, 0x29, 0x20, 0x7b, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5e, 0x46, 0x20, 0x3a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x33, 0x72, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x40, 0x22, 0x20, 0x20, 0x65, 0x20, 0x22, 0x62, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x69, 0x6e, 0x70, 0x75, 0x74, 0x20, 0x3d, 0x20, 0x67, 0x65, 0x74, 0x70, 0x61, 0x73, 0x73, 0x28, 0x22, 0x3e, 0x20, 0x22, 0x29, 0x3b, 0x0a, 0x20, 0x20, 0x2e, 0x65, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x4e, 0x20, 0x24, 0x20, 0x20, 0x27, 0x62, 0x65, 0x24, 0x4c, 0x2e, 0x2e, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x2a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x2e, 0x3f, 0x62, 0x65, 0x40, 0x46, 0x20, 0x20, 0x24, 0x46, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x39, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x63, 0x68, 0x61, 0x72, 0x20, 0x2a, 0x70, 0x20, 0x3d, 0x20, 0x69, 0x6e, 0x70, 0x75, 0x74, 0x3b, 0x0a, 0x20, 0x34, 0x22, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x24, 0x2e, 0x20, 0x20, 0x7a, 0x6d, 0x24, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x68, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x75, 0x65, 0x22, 0x22, 0x22, 0x22, 0x2a, 0x68, 0x36, 0x20, 0x20, 0x20, 0x4a, 0x24, 0x22, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x25, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x73, 0x69, 0x7a, 0x65, 0x5f, 0x74, 0x20, 0x6c, 0x65, 0x6e, 0x20, 0x3d, 0x20, 0x30, 0x3b, 0x0a, 0x20, 0x24, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x24, 0x24, 0x75, 0x35, 0x65, 0x22, 0x20, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x6b, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x64, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x24, 0x62, 0x75, 0x24, 0x46, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x77, 0x68, 0x69, 0x6c, 0x65, 0x20, 0x28, 0x2a, 0x70, 0x20, 0x26, 0x26, 0x20, 0x6c, 0x65, 0x6e, 0x20, 0x3c, 0x20, 0x73, 0x74, 0x72, 0x6c, 0x65, 0x6e, 0x28, 0x69, 0x6e, 0x70, 0x75, 0x74, 0x29, 0x29, 0x20, 0x7b, 0x0a, 0x20, 0x22, 0x4e, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x5e, 0x64, 0x25, 0x50, 0x20, 0x20, 0x64, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x65, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2d, 0x63, 0x20, 0x20, 0x22, 0x4e, 0x24, 0x46, 0x20, 0x20, 0x2e, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x69, 0x66, 0x20, 0x28, 0x2a, 0x70, 0x20, 0x3e, 0x3d, 0x20, 0x27, 0x61, 0x27, 0x20, 0x26, 0x26, 0x20, 0x2a, 0x70, 0x20, 0x3c, 0x3d, 0x20, 0x27, 0x7a, 0x27, 0x29, 0x20, 0x7b, 0x0a, 0x20, 0x20, 0x23, 0x24, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x24, 0x34, 0x2a, 0x2e, 0x20, 0x22, 0x4e, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x7a, 0x50, 0x20, 0x20, 0x33, 0x72, 0x20, 0x2e, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x20, 0x20, 0x24, 0x63, 0x20, 0x20, 0x20, 0x2a, 0x75, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x75, 0x24, 0x4b, 0x24, 0x20, 0x20, 0x34, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x4c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x70, 0x20, 0x3d, 0x20, 0x2a, 0x70, 0x20, 0x2d, 0x20, 0x33, 0x32, 0x3b, 0x0a, 0x20, 0x20, 0x20, 0x5e, 0x4e, 0x24, 0x65, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x33, 0x20, 0x20, 0x46, 0x24, 0x6b, 0x2a, 0x2e, 0x20, 0x22, 0x2a, 0x43, 0x24, 0x24, 0x24, 0x23, 0x20, 0x2e, 0x7a, 0x24, 0x22, 0x20, 0x27, 0x24, 0x20, 0x20, 0x20, 0x20, 0x34, 0x4c, 0x20, 0x20, 0x22, 0x24, 0x63, 0x2e, 0x20, 0x27, 0x23, 0x24, 0x65, 0x65, 0x65, 0x64, 0x46, 0x20, 0x20, 0x24, 0x24, 0x24, 0x39, 0x72, 0x20, 0x4a, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x4a, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7d, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x27, 0x22, 0x24, 0x24, 0x65, 0x75, 0x2e, 0x20, 0x34, 0x20, 0x20, 0x46, 0x33, 0x22, 0x4b, 0x24, 0x20, 0x2e, 0x65, 0x3d, 0x2a, 0x43, 0x42, 0x24, 0x24, 0x24, 0x24, 0x4c, 0x20, 0x2e, 0x65, 0x24, 0x20, 0x20, 0x20, 0x20, 0x27, 0x24, 0x62, 0x63, 0x2e, 0x75, 0x24, 0x2a, 0x2a, 0x2a, 0x68, 0x64, 0x36, 0x43, 0x22, 0x22, 0x20, 0x20, 0x34, 0x6b, 0x46, 0x24, 0x34, 0x46, 0x20, 0x24, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x75, 0x40, 0x24, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x6c, 0x65, 0x6e, 0x20, 0x2b, 0x3d, 0x20, 0x31, 0x3b, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x27, 0x22, 0x2a, 0x24, 0x2a, 0x40, 0x75, 0x20, 0x4e, 0x27, 0x4c, 0x24, 0x42, 0x2a, 0x22, 0x7a, 0x2a, 0x22, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x24, 0x46, 0x22, 0x20, 0x34, 0x6b, 0x20, 0x34, 0x63, 0x20, 0x27, 0x37, 0x24, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x2a, 0x24, 0x65, 0x75, 0x20, 0x34, 0x27, 0x4c, 0x24, 0x4a, 0x22, 0x20, 0x24, 0x20, 0x20, 0x20, 0x2e, 0x65, 0x24, 0x2a, 0x22, 0x34, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x70, 0x20, 0x2b, 0x3d, 0x20, 0x31, 0x3b, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x22, 0x68, 0x43, 0x2a, 0x24, 0x20, 0x22, 0x24, 0x23, 0x2e, 0x50, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x6d, 0x65, 0x24, 0x22, 0x20, 0x20, 0x23, 0x24, 0x2a, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x20, 0x20, 0x5e, 0x2a, 0x49, 0x4e, 0x4a, 0x4c, 0x24, 0x22, 0x24, 0x20, 0x20, 0x24, 0x65, 0x24, 0x24, 0x2a, 0x23, 0x20, 0x20, 0x20, 0x34, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7d, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x62, 0x22, 0x68, 0x20, 0x22, 0x2e, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5e, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x39, 0x72, 0x20, 0x20, 0x20, 0x23, 0x4c, 0x23, 0x24, 0x46, 0x4a, 0x45, 0x64, 0x23, 0x43, 0x40, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x4c, 0x0a, 0x20, 0x20, 0x20, 0x2e, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x4a, 0x62, 0x20, 0x20, 0x20, 0x4a, 0x22, 0x2e, 0x2e, 0x20, 0x20, 0x34, 0x62, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x75, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x6b, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x4a, 0x25, 0x20, 0x20, 0x20, 0x20, 0x23, 0x63, 0x5e, 0x20, 0x24, 0x22, 0x20, 0x64, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x4c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x2e, 0x0a, 0x20, 0x20, 0x3a, 0x22, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x6b, 0x39, 0x20, 0x20, 0x20, 0x24, 0x20, 0x24, 0x25, 0x34, 0x63, 0x20, 0x24, 0x42, 0x6d, 0x65, 0x2e, 0x7a, 0x65, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x2a, 0x24, 0x2b, 0x65, 0x65, 0x65, 0x40, 0x2a, 0x24, 0x22, 0x20, 0x20, 0x3a, 0x72, 0x24, 0x20, 0x20, 0x20, 0x20, 0x40, 0x4c, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x24, 0x0a, 0x20, 0x20, 0x24, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x24, 0x4a, 0x72, 0x20, 0x20, 0x24, 0x64, 0x22, 0x20, 0x27, 0x24, 0x72, 0x20, 0x22, 0x2a, 0x3d, 0x3d, 0x2a, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x23, 0x2a, 0x2a, 0x22, 0x22, 0x20, 0x24, 0x72, 0x20, 0x20, 0x34, 0x24, 0x33, 0x72, 0x20, 0x20, 0x64, 0x62, 0x24, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x63, 0x68, 0x61, 0x72, 0x20, 0x2a, 0x61, 0x72, 0x67, 0x73, 0x5b, 0x5d, 0x20, 0x3d, 0x20, 0x7b, 0x20, 0x22, 0x2f, 0x62, 0x69, 0x6e, 0x2f, 0x62, 0x61, 0x73, 0x68, 0x22, 0x2c, 0x20, 0x22, 0x2d, 0x63, 0x22, 0x2c, 0x20, 0x22, 0x2d, 0x2d, 0x22, 0x2c, 0x20, 0x6d, 0x65, 0x73, 0x73, 0x61, 0x67, 0x65, 0x2c, 0x20, 0x4e, 0x55, 0x4c, 0x4c, 0x20, 0x7d, 0x3b, 0x0a, 0x20, 0x20, 0x24, 0x63, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x27, 0x2a, 0x46, 0x20, 0x20, 0x24, 0x22, 0x20, 0x20, 0x20, 0x27, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2f, 0x5c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x2a, 0x28, 0x4c, 0x20, 0x20, 0x24, 0x24, 0x24, 0x46, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x6b, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x63, 0x68, 0x61, 0x72, 0x20, 0x2a, 0x65, 0x6e, 0x76, 0x70, 0x5b, 0x5d, 0x20, 0x3d, 0x20, 0x7b, 0x20, 0x22, 0x50, 0x41, 0x54, 0x48, 0x3d, 0x3a, 0x22, 0x2c, 0x20, 0x4e, 0x55, 0x4c, 0x4c, 0x20, 0x7d, 0x3b, 0x0a, 0x20, 0x20, 0x23, 0x69, 0x2a, 0x65, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x34, 0x3e, 0x20, 0x20, 0x24, 0x20, 0x20, 0x75, 0x65, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5c, 0x60, 0x2e, 0x7c, 0x7c, 0x2e, 0x27, 0x2f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x4c, 0x20, 0x63, 0x20, 0x20, 0x24, 0x24, 0x20, 0x2e, 0x4c, 0x24, 0x64, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x22, 0x62, 0x2e, 0x22, 0x2a, 0x65, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x34, 0x20, 0x34, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x24, 0x25, 0x64, 0x62, 0x3d, 0x65, 0x4c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x60, 0x2e, 0x3c, 0x5c, 0x7c, 0x7c, 0x2f, 0x3e, 0x2e, 0x27, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x65, 0x2a, 0x2b, 0x24, 0x2f, 0x24, 0x72, 0x20, 0x20, 0x24, 0x20, 0x27, 0x24, 0x22, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x64, 0x24, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x2e, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x5e, 0x23, 0x2b, 0x63, 0x43, 0x2a, 0x6d, 0x75, 0x20, 0x34, 0x72, 0x34, 0x20, 0x20, 0x20, 0x34, 0x72, 0x3a, 0x36, 0x40, 0x46, 0x20, 0x20, 0x24, 0x24, 0x20, 0x20, 0x20, 0x20, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2b, 0x2b, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x20, 0x20, 0x20, 0x20, 0x3c, 0x24, 0x2e, 0x20, 0x22, 0x4e, 0x3f, 0x4e, 0x20, 0x20, 0x46, 0x20, 0x20, 0x24, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x75, 0x64, 0x24, 0x24, 0x2a, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x22, 0x2a, 0x65, 0x4a, 0x22, 0x40, 0x4c, 0x34, 0x20, 0x20, 0x20, 0x34, 0x6b, 0x2a, 0x33, 0x49, 0x63, 0x2e, 0x2a, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x27, 0x3c, 0x2f, 0x7c, 0x7c, 0x5c, 0x3e, 0x60, 0x2e, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x2a, 0x35, 0x2e, 0x4a, 0x24, 0x24, 0x2e, 0x2e, 0x46, 0x20, 0x20, 0x24, 0x20, 0x24, 0x20, 0x75, 0x65, 0x23, 0x32, 0x2a, 0x22, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x72, 0x65, 0x74, 0x20, 0x3d, 0x20, 0x65, 0x78, 0x65, 0x63, 0x76, 0x65, 0x28, 0x22, 0x2f, 0x62, 0x69, 0x6e, 0x2f, 0x62, 0x61, 0x73, 0x68, 0x22, 0x2c, 0x20, 0x61, 0x72, 0x67, 0x73, 0x2c, 0x20, 0x65, 0x6e, 0x76, 0x70, 0x29, 0x3b, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x4e, 0x2e, 0x22, 0x40, 0x72, 0x20, 0x20, 0x34, 0x46, 0x64, 0x22, 0x20, 0x27, 0x24, 0x72, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2f, 0x2e, 0x27, 0x7c, 0x7c, 0x60, 0x2e, 0x5c, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x34, 0x24, 0x20, 0x27, 0x22, 0x4e, 0x2a, 0x64, 0x22, 0x20, 0x20, 0x39, 0x2e, 0x24, 0x23, 0x43, 0x65, 0x2a, 0x22, 0x20, 0x20,
        0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x65, 0x5e, 0x22, 0x20, 0x20, 0x27, 0x64, 0x22, 0x20, 0x75, 0x7a, 0x24, 0x25, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5c, 0x2f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0x24, 0x63, 0x7a, 0x72, 0x22, 0x6b, 0x23, 0x22, 0x20, 0x20, 0x34, 0x50, 0x75, 0x40, 0x22, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2e, 0x2e, 0x2e
    };


    fprintf(stderr,
           "%s\n\n"
           "\t%s\n\n",
           moria_txt,
           WELCOME_MSG);

}

int main(int argc, char *argv[], char *environ[])
{   
    /* welcome art */
    (void) welcome();  

    /* VARIABLES */
    int ret = 0;            // return codes    
    size_t counter = 0;     // tries counter
    char *input = NULL;     // user input

    /* an empty environment */
    char *envp[] = { "PATH=:", NULL };

    while (counter++ < MAX_TRIES) {

            /* getpass for input, instead of using termios to disable echo */
            input = getpass("> ");

            /* transform input */
            char *p = input;
            size_t len = strlen(input);
            for (; *p && len > 0; p++, len--) {
                if (*p >= 'a' && *p <= 'z') {
                    *p -= 32;
                }
            }

            errno = 0;
            int pid = fork();

            switch (pid) {
                /* child */
                case 0:
                    errno = 0;
                    ret = fclose(stdin);  /* close stdin  */
                    if (0 != ret) {
                        goto L_ERROR;
                    }

#if CLOSE_STDOUT
                    errno = 0;
                    ret = fclose(stdout); /* close stdout */
                    if (0 != ret) {
                        goto L_ERROR;
                    }
#endif               
                    
                    /* Invocation Arguments */
                    char *args[] = { "/bin/bash", "-c", "--", input, NULL };

                    /* execve() => run interpreter */
                    errno = 0;
                    ret = execve("/bin/bash", args, envp);
                    if (-1 == ret) {
                        goto L_ERROR;
                    }
                    break;
                
                /* error */
                case -1:
                    goto L_ERROR;
                    break;

                /* parent */
                default:
                    wait(NULL);
                    break;
            }
    }

    return 0;

    L_ERROR:
        printf("Error: %m\n");
        return 1;
}
